{% extends 'base.html' %}
{% load static %}
{% block title %}Register{% endblock %}

{% block content %}
  <body class="login-page">
    <div class="auth-container">
      <div class="form-container">
        <h2>Sign up</h2>

        <!-- User Type -->
        <div class="user-type-buttons">
          {% for radio in form.user_type %}
            <label class="user-type-label" for="{{ radio.id_for_label }}">
              {% if radio.choice_label == "Tutor" %}
                <button type="button" class="btn-tutor" id="{{ radio.id_for_label }}">
                  {{ radio.choice_label }}
                </button>
              {% else %}
                <button type="button" class="btn-parent" id="{{ radio.id_for_label }}">
                  {{ radio.choice_label }}
                </button>
              {% endif %}
              {{ radio.tag }}
            </label>
          {% endfor %}
        </div>

        <div class="auth-flex">
          <!-- Left Form -->
          <div class="form-left">
            <!-- Errors -->
            {% if form.errors %}
            <div class="error-message">
              <p><strong>Please correct the following:</strong></p>
              <ul>
                {% for field in form %}
                  {% for error in field.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                {% endfor %}
              </ul>
            </div>
            {% endif %}

            <form method="post" enctype="multipart/form-data">
              {% csrf_token %}
              
              <!-- Username -->
              <div class="form-group">
                <label for="{{ form.username.id_for_label }}">Username</label>
                {{ form.username }}
                {% if form.username.errors %}
                  <p class="error">{{ form.username.errors }}</p>
                {% endif %}
              </div>

              <!-- Email -->
              <div class="form-group">
                <label for="{{ form.email.id_for_label }}">Email</label>
                {{ form.email }}
                {% if form.email.errors %}
                  <p class="error">{{ form.email.errors }}</p>
                {% endif %}
              </div>

              <!-- Password Field -->
              <div class="form-group">
                <label for="{{ form.password1.id_for_label }}">Password</label>
                {{ form.password1 }}
                {% if form.password1.errors %}
                  <p class="error">{{ form.password1.errors }}</p>
                {% endif %}
              </div>

              <!-- Password Confirmation Field -->
              <div class="form-group">
                <label for="{{ form.password2.id_for_label }}">Confirm Password</label>
                {{ form.password2 }}
                {% if form.password2.errors %}
                  <p class="error">{{ form.password2.errors }}</p>
                {% endif %}
              </div>

              <button type="submit" class="btn-primary">Register</button>
            </form>
          </div>

          <!-- Right side: Image -->
          <div class="form-right">
            <img
              src="{% static 'images/future_science_img.png' %}"
              alt="Register Image"
            />
          </div>
        </div>
      </div>
    </div>
  </body>
{% endblock %}
